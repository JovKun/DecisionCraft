:root{
  --bg1: #070913;
  --bg2: #0b1a2b;
  --bg3: #0d2f3b;

  --cardA: rgba(10, 12, 22, 0.58);
  --cardB: rgba(10, 12, 22, 0.40);

  --text: rgba(245,236,220,0.94);
  --muted: rgba(245,236,220,0.72);

  --gold: #f2c46d;
  --cyan: #7fe7ff;

  --shadow: 0 18px 60px rgba(0,0,0,0.45);
}

*{ box-sizing: border-box; }
html, body{ height: 100%; }

body{
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);

  background:
    radial-gradient(1200px 700px at 18% 18%, rgba(242,196,109,0.12), transparent 60%),
    radial-gradient(900px 520px at 85% 28%, rgba(127,231,255,0.10), transparent 60%),
    radial-gradient(1200px 760px at 70% 85%, rgba(255, 153, 0, 0.06), transparent 65%),
    linear-gradient(120deg, var(--bg1), var(--bg2), var(--bg3));

  overflow-x: hidden;
}

/* subtle grain */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events:none;
  background:
    radial-gradient(2px 2px at 12% 18%, rgba(255,255,255,0.05), transparent 55%),
    radial-gradient(2px 2px at 70% 64%, rgba(255,255,255,0.04), transparent 55%),
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,0.03) 0px,
      rgba(255,255,255,0.03) 1px,
      rgba(0,0,0,0.00) 3px,
      rgba(0,0,0,0.00) 6px
    );
  opacity: 0.22;
  mix-blend-mode: overlay;
}

/* =========================
   HUD
========================= */
.hud{
  width: min(1240px, 94%);
  margin: 14px auto 0;

  display: grid;
  grid-template-columns: 80px 1fr 200px;
  align-items: center;
  gap: 18px;

  padding: 14px 18px;
  border-radius: 22px;
  border: 1px solid rgba(242,196,109,0.18);
  background:
    radial-gradient(900px 520px at 20% 20%, rgba(242,196,109,0.08), transparent 60%),
    linear-gradient(180deg, rgba(10,12,22,0.58), rgba(10,12,22,0.38));
  box-shadow: 0 18px 60px rgba(0,0,0,0.35);
  backdrop-filter: blur(10px);
}

.back-btn{
  width: 54px;
  height: 54px;
  border-radius: 16px;
  border: 1px solid rgba(242,196,109,0.22);
  background:
    radial-gradient(160px 90px at 30% 25%, rgba(255,255,255,0.18), transparent 60%),
    linear-gradient(180deg, rgba(242,196,109,0.95), rgba(139,106,43,0.85));
  color: rgba(25,18,8,0.92);
  cursor: pointer;
  box-shadow: 0 12px 28px rgba(0,0,0,0.40);
  transition: transform 0.15s ease, filter 0.15s ease;
}
.back-btn:hover{ transform: translateY(-2px); filter: brightness(1.03); }

.timeline-area{
  display: grid;
  gap: 8px;
  justify-items: center;
}

.timeline-title{
  font-size: 26px;
  font-weight: 950;
  letter-spacing: 1px;
  color: var(--gold);
  text-shadow: 0 0 18px rgba(242,196,109,0.18);
}

.timeline-bar{
  width: min(820px, 92%);
  position: relative;
  height: 28px;
}

.timeline-line{
  position: absolute;
  left: 0;
  right: 0;
  top: 13px;
  height: 3px;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(242,196,109,0.35), rgba(127,231,255,0.25));
  box-shadow: 0 0 18px rgba(242,196,109,0.10);
}

.dot{
  position: absolute;
  top: 7px;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 2px solid rgba(242,196,109,0.22);
  background: rgba(0,0,0,0.35);
  transform: translateX(-50%);
}

.dot.done{
  background: rgba(242,196,109,0.35);
  border-color: rgba(242,196,109,0.70);
  box-shadow: 0 0 14px rgba(242,196,109,0.28);
}

.timeline-end{
  position: absolute;
  right: 0;
  top: 18px;
  transform: translateX(50%);
  font-size: 11px;
  color: rgba(245,236,220,0.55);
  letter-spacing: 0.8px;
  text-transform: uppercase;
}

.meta-pill{
  justify-self: end;
  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(242,196,109,0.18);
  background: rgba(0,0,0,0.18);
  box-shadow: 0 14px 36px rgba(0,0,0,0.30);
}

.meta-row{
  display: flex;
  justify-content: space-between;
  gap: 12px;
  font-weight: 900;
  letter-spacing: 0.3px;
}

.meta-label{ color: rgba(245,236,220,0.70); }
.meta-value{ color: rgba(245,236,220,0.95); }

/* =========================
   HERO TITLE
========================= */
.hero-title{
  width: min(1240px, 94%);
  margin: 12px auto 10px;
  text-align: center;

  padding: 18px 18px 14px;
  border-radius: 22px;
  border: 1px solid rgba(242,196,109,0.16);

  background:
    radial-gradient(900px 520px at 20% 15%, rgba(242,196,109,0.10), transparent 60%),
    radial-gradient(900px 520px at 80% 40%, rgba(160,120,60,0.10), transparent 65%),
    linear-gradient(180deg, rgba(10,12,22,0.55), rgba(10,12,22,0.35));
  box-shadow: 0 18px 60px rgba(0,0,0,0.35);
  position: relative;
  overflow: hidden;
}

.hero-title::before{
  content:"";
  position:absolute;
  inset: 10px;
  border-radius: 18px;
  border: 1px solid rgba(242,196,109,0.12);
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,0.35),
    inset 0 0 40px rgba(0,0,0,0.35);
  pointer-events:none;
}

.hero-ornament{
  width: min(520px, 86%);
  height: 1px;
  margin: 0 auto 12px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(242,196,109,0.28),
    rgba(127,231,255,0.08),
    rgba(242,196,109,0.18),
    transparent
  );
  opacity: 0.9;
}

.hero-name{
  margin: 0;
  font-size: clamp(34px, 4vw, 58px);
  font-weight: 950;
  letter-spacing: 1px;
  color: var(--gold);
  text-shadow:
    0 1px 0 rgba(0,0,0,0.55),
    0 14px 34px rgba(0,0,0,0.45),
    0 0 18px rgba(242,196,109,0.16);
  position: relative;
  z-index: 1;
}

.hero-sub{
  margin: 8px 0 0;
  color: rgba(245,236,220,0.72);
  font-weight: 800;
  letter-spacing: 0.6px;
  position: relative;
  z-index: 1;
}

/* =========================
   LAYOUT
========================= */
.layout{
  width: min(1240px, 94%);
  margin: 10px auto 28px;

  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-areas:
    "media context"
    "bottom bottom";
  gap: 16px;
}

/* =========================
   CARD BASE
========================= */
.card{
  border-radius: 22px;
  border: 1px solid rgba(242,196,109,0.14);
  background: linear-gradient(180deg, var(--cardA), var(--cardB));
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
  padding: 16px;
  position: relative;
  overflow: hidden;
}

.card::before{
  content:"";
  position:absolute;
  inset: 10px;
  border-radius: 18px;
  border: 1px solid rgba(242,196,109,0.10);
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,0.35),
    inset 0 0 40px rgba(0,0,0,0.35);
  pointer-events:none;
}

.media-card{ grid-area: media; }
.context-card{ grid-area: context; }
.card-bottom{ grid-area: bottom; }

/* headings */
.section-heading{
  margin: 0 0 6px;
  font-size: 18px;
  font-weight: 950;
  letter-spacing: 0.4px;
  position: relative;
  z-index: 1;
}

.section-heading.gold{ color: var(--gold); }
.section-heading.cyan{ color: var(--cyan); }

.section-heading.small{
  font-size: 13px;
  letter-spacing: 1px;
  text-transform: uppercase;
  opacity: 0.95;
}

.muted{
  margin: 0;
  color: var(--muted);
  position: relative;
  z-index: 1;
}

.caption{
  margin: 8px 4px 0;
  font-size: 11px;
  color: rgba(245,236,220,0.72);
  font-style: italic;
  position: relative;
  z-index: 1;
}

/* =========================
   MEDIA CARD
========================= */
.media-head{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
  position: relative;
  z-index: 1;
}

.section-title{
  letter-spacing: 1px;
  text-transform: uppercase;
  font-size: 16px;
}

.media-block{
  margin-top: 14px;
  position: relative;
  z-index: 1;
}

/* portrait frame */
.frame-shell{
  margin-top: 8px;
  width: 100%;
  aspect-ratio: 16 / 10;
  position: relative;

  background-image: url("asset/frames.png");
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;

  filter: drop-shadow(0 18px 40px rgba(0,0,0,0.55));
}

.frame-inner{
  position: absolute;
  inset: 15%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.media-img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 10px;
  background: rgba(0,0,0,0.18);
}

/* clean map (no frame) */
.map-plain{
  margin-top: 10px;
  width: 100%;
  border-radius: 16px;
  overflow: hidden;

  border: 1px solid rgba(242,196,109,0.20);
  background: rgba(0,0,0,0.25);

  box-shadow: 0 18px 40px rgba(0,0,0,0.45);
}

.map-img-plain{
  width: 100%;
  height: auto;
  display: block;
}

/* =========================
   CONTEXT ICONS
========================= */
.heading-with-icon{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  position: relative;
  z-index: 1;
}

.heading-icon{
  display: inline-block;
  object-fit: contain;
  filter: drop-shadow(0 14px 14px rgba(0,0,0,0.45));
}

.heading-icon--hands{
  width: 92px;
  height: 92px;
  transform: translateY(6px);
}

.heading-icon--globe{
  width: 32px;
  height: 32px;
  transform: translateY(2px);
}

/* =========================
   LETTER (PARCHMENT)
========================= */
.letter{
  margin-top: 10px;
  border-radius: 18px;
  overflow: hidden;
  background:
    radial-gradient(1000px 600px at 20% 30%, rgba(255, 245, 220, 0.20), transparent 60%),
    linear-gradient(180deg, rgba(245, 230, 190, 0.92), rgba(226, 208, 160, 0.88));
  color: rgba(25, 18, 8, 0.92);
  box-shadow: 0 20px 45px rgba(0,0,0,0.35);
  border: 1px solid rgba(80, 55, 20, 0.30);
  position: relative;
  z-index: 1;
}

.letter::after{
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(2px 2px at 10% 20%, rgba(0,0,0,0.06), transparent 50%),
    radial-gradient(2px 2px at 60% 70%, rgba(0,0,0,0.05), transparent 50%),
    radial-gradient(2px 2px at 80% 35%, rgba(0,0,0,0.05), transparent 50%);
  opacity: 0.55;
  pointer-events: none;
}

.letter-top{
  padding: 16px 16px 10px;
  background: linear-gradient(90deg, rgba(0,0,0,0.12), transparent);
  position: relative;
  z-index: 1;
}

.wax-seal{
  width: 46px;
  height: 46px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.35), transparent 40%),
              radial-gradient(circle at 60% 70%, rgba(0,0,0,0.25), transparent 45%),
              linear-gradient(180deg, #7a0f18, #4a0810);
  box-shadow: 0 10px 18px rgba(0,0,0,0.35);
  border: 1px solid rgba(0,0,0,0.35);
  margin-bottom: 10px;
}

.letter-title{ font-weight: 950; font-size: 18px; }
.letter-sub{ margin-top: 4px; font-size: 13px; opacity: 0.8; }

.letter-body{
  padding: 10px 16px 14px;
  position: relative;
  z-index: 1;
}

.letter-list{
  margin: 0;
  padding-left: 18px;
  line-height: 1.55;
  font-weight: 800;
}
.letter-list li{ margin: 8px 0; }

.letter-rule{
  border: none;
  height: 1px;
  background: rgba(60, 40, 12, 0.25);
  margin: 14px 0 10px;
}

.letter-h3{ margin: 0 0 8px; font-size: 15px; font-weight: 950; }

.k{ font-weight: 950; }
.v{ font-weight: 900; opacity: 0.95; }

.letter-footer{
  padding: 10px 16px 14px;
  position: relative;
  z-index: 1;
  display: flex;
  justify-content: flex-end;
  font-style: italic;
  font-weight: 900;
  opacity: 0.9;
}

.signature{
  border-top: 1px dashed rgba(60, 40, 12, 0.35);
  padding-top: 8px;
}

/* =========================
   CHOICES (kept style)
========================= */
.choices-card{ position: relative; overflow: hidden; }

.choices-top{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
  margin-bottom: 10px;
  position: relative;
  z-index: 1;
}

.choices-meta{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items:center;
  justify-content:flex-end;
}

.pill{
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(242,196,109,0.20);
  background: rgba(0,0,0,0.22);
  font-weight: 900;
  font-size: 12px;
  box-shadow: 0 14px 30px rgba(0,0,0,0.25);
  color: rgba(245,236,220,0.92);
}

.pill-warn{
  border-color: rgba(242,196,109,0.35);
  background: rgba(242,196,109,0.10);
}

.briefing{
  display:flex;
  gap: 14px;
  align-items:center;
  padding: 14px 14px;
  border-radius: 16px;
  border: 1px solid rgba(242,196,109,0.22);
  background: linear-gradient(90deg, rgba(0,0,0,0.32), rgba(0,0,0,0.14));
  box-shadow: 0 0 34px rgba(242,196,109,0.08);
  margin: 10px 0 14px;
  position: relative;
  z-index: 1;
}

.briefing-badge{
  padding: 8px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 950;
  text-transform: uppercase;
  color: rgba(25,18,8,0.92);
  background: linear-gradient(180deg, rgba(242,196,109,0.98), rgba(139,106,43,0.85));
}

.briefing-text{
  font-weight: 900;
  font-size: 14px;
  color: rgba(245,236,220,0.92);
}

.choices-grid.fancy{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  position: relative;
  z-index: 1;
}

.choice{
  position: relative;
  display:flex;
  flex-direction: column;
  gap: 10px;
  padding: 16px 16px 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);
  background:
    radial-gradient(900px 240px at 10% 0%, rgba(255,255,255,0.05), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.22));
  box-shadow: 0 18px 46px rgba(0,0,0,0.32);
  text-decoration: none;
  color: rgba(245,236,220,0.92);
  transition: transform .14s ease, border-color .14s ease, box-shadow .14s ease;
}

.choice::before{
  content:"";
  position:absolute;
  left: 0;
  top: 14px;
  bottom: 14px;
  width: 5px;
  border-radius: 999px;
  background: rgba(242,196,109,0.55);
  box-shadow: 0 0 22px rgba(242,196,109,0.18);
}

.choice:hover{
  transform: translateY(-3px);
  border-color: rgba(242,196,109,0.22);
  box-shadow: 0 22px 60px rgba(0,0,0,0.42);
}

.choice-a::before{ background: rgba(127,231,255,0.55); }
.choice-b::before{ background: rgba(242,196,109,0.60); }
.choice-c::before{ background: rgba(160,255,190,0.48); }
.choice-d::before{ background: rgba(255,160,160,0.48); }

.choice-title{ font-size: 15px; font-weight: 950; }
.choice-sub{ font-size: 12px; color: rgba(245,236,220,0.65); font-weight: 800; }

.choice-tags{ display:flex; gap: 8px; flex-wrap: wrap; }

.tag{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.18);
  font-size: 11px;
  font-weight: 900;
  color: rgba(245,236,220,0.85);
}

.tag-risk{ border-color: rgba(255,160,160,0.28); background: rgba(255,160,160,0.10); }
.tag-reward{ border-color: rgba(160,255,190,0.28); background: rgba(160,255,190,0.10); }

/* =========================
   RESPONSIVE
========================= */
@media (max-width: 980px){
  .hud{
    grid-template-columns: 80px 1fr;
    grid-template-rows: auto auto;
  }

  .meta-pill{
    grid-column: 2;
    justify-self: start;
    margin-top: 10px;
  }

  .layout{
    grid-template-columns: 1fr;
    grid-template-areas:
      "media"
      "context"
      "bottom";
  }

  .choices-grid.fancy{ grid-template-columns: 1fr; }

  .heading-icon--hands{
    width: 84px;
    height: 84px;
  }
}
/* ===========================
   FIX PORTRAIT (HANNIBAL) FRAME
   - stop cropping
   - center nicely inside the ornate frame
=========================== */

/* make the portrait window a bit larger (more visible image) */
.frame-shell .frame-inner{
  inset: 13%;
}

/* portrait: do NOT crop */
.frame-shell .media-img{
  object-fit: contain;
  background: rgba(0,0,0,0.12);
}

/* optional: soften corners so it blends better with the frame */
.frame-shell .media-img{
  border-radius: 12px;
}