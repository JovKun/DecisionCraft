<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Result</title>
  <link rel="stylesheet" href="result.css" />
</head>

<body>
  <main class="page">

    <!-- TOP HEADER -->
    <header class="hud">
      <div class="hud-left">
        <a class="back-link" href="timeline.html" aria-label="Back to timeline">← Back</a>
      </div>

      <div class="hud-center">
        <div class="hud-title">Result</div>
        <div class="hud-sub">The timeline has shifted…</div>
      </div>

      <div class="hud-right">
        <div class="meta-pill">
          <div class="meta-row"><span class="meta-label">Status:</span> <span class="meta-value">Resolved</span></div>
          <div class="meta-row"><span class="meta-label">Next:</span> <span class="meta-value">Continue</span></div>
        </div>
      </div>
    </header>

    <!-- MAIN PANEL -->
    <section class="panel">

      <!-- OUTCOME -->
      <section class="block outcome">
        <div class="block-head">
          <div class="wax-seal" aria-hidden="true"></div>
          <div class="block-titles">
            <h2 class="block-title">Outcome</h2>
            <p class="block-sub">Dispatch recorded by the Council.</p>
          </div>
        </div>

        <div class="parchment">
          <p class="block-text" id="result-description">
            Your choice triggered a timeline shift. (Later you will fill this dynamically from DB/JSON.)
          </p>

          <div class="parchment-rule"></div>

          <div class="cta-row">
            <a class="next-btn" href="timeline_now.html">Next →</a>
          </div>
        </div>
      </section>

      <!-- MEDIA -->
      <section class="block media">
        <div class="media-head">
          <h2 class="block-title">Results visual media</h2>
          <p class="block-sub">Map change • battle consequence • political aftermath</p>
        </div>

        <div class="media-box">
          <div class="media-label">Visual Evidence</div>
          <div class="media-frame">
            <img
              id="result-visual"
              class="media-visual"
              src="https://via.placeholder.com/1400x700.png?text=Result+Visual+(Map+Animation+or+Scene)"
              alt="Result visual placeholder"
            />
          </div>
        </div>

        <p class="hint">
          If you don’t hear audio: click anywhere once (browsers often block autoplay).
        </p>
      </section>

      <!-- AUDIO -->
      <audio id="bg-audio" autoplay loop>
        <source src="" type="audio/mpeg" />
      </audio>

    </section>
  </main>

  <script>
    // Autoplay fallback: if browser blocks autoplay, play after first click.
    const bg = document.getElementById("bg-audio");
    if (bg) {
      bg.volume = 0.6;
      const tryPlay = () => {
        bg.play().catch(() => {});
        window.removeEventListener("click", tryPlay);
        window.removeEventListener("keydown", tryPlay);
      };
      window.addEventListener("click", tryPlay);
      window.addEventListener("keydown", tryPlay);
    }
  </script>
</body>
</html>